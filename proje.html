<!DOCTYPE html>
<html>
<head>
    <title>Spared</title>
    <style>
        body { margin:0;
            padding:0;
            background-color:rgb(218, 197, 212);
            display:flex;
            justify-content: center;
            align-items: center;
        }
        #game_container{
            display:none;
            position:relative;
            width:600px;
            height:750px;
            background: linear-gradient(to bottom, #d3b7d1,#896d81);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            overflow: hidden;
        }
        canvas {
            display: block;
            width:100%;
            height: 100%;  
        }
        #login {
            background-color: rgb(174, 145, 201);
            display:flex;
            position:relative;
            justify-content: center;
            align-items: center;
            width:600px;
            height:750px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
         #login input[type="submit"]{
            padding: 20px 40px;
            font-size: 28px;
            background-color: #d67ba8;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            }
    </style>
</head>
<body>
    <div id="login">
        <input type="submit" value="Start Game" id="start_button">
         </div>
        <div id="game_container">
        <canvas id="gameCanvas" width="600" height="750"></canvas>
    </div>
    
    <script>
        const startButton=document.getElementById('start_button');
        const loginScreen = document.getElementById('login');
        const gameContainer = document.getElementById('game_container');
           startButton.addEventListener('click', function() {
            loginScreen.style.display = 'none';
            gameContainer.style.display = 'block';
            initGame();
        });
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        const assets = {
            ball: new Image(),
            pin: new Image(),
            other_pin1: new Image(),
            other_pin2: new Image(),
            other_pin3: new Image(),
            other_pin4: new Image(),
            other_pin5: new Image(),
        };
        const ball = {
            width: 80,
            height: 80,
            x: 0,
            y: 20
        };
        const pin = {
            width: 40,
            height: 100,
            x: 0,
            y: 0,
            speed: 5,
            isMoving: false,
            targetX: 0,
            targetY: 0
        };
        const other_pin1 = {
            width:40,
            height:100,
            x:300,
            y:400
        }
        const other_pin2 = {
            width:40,
            height:100,
            x: 100,  
            y: 500 
        }
       const other_pin3 = {
            width:40,
            height:100,
            x: 200,  
            y:400
        }
       const other_pin4 = {
            width:40,
            height:100,
            x: 500,  
            y: 550  
        }
       const other_pin5 = {
            width:40,
            height:100,
            x: 350,  
            y:450 
        }
        assets.ball.src = "Cyan Bowlling_576p.png";
        assets.pin.src = "PinPicture.PNG";
        assets.other_pin1.src="other_pin1.png";
        assets.other_pin2.src="other_pin2.png";
        assets.other_pin3.src="other_pin3.png";
        assets.other_pin4.src="other_pin4.png";
        assets.other_pin5.src="other_pin5.png";

        let imagesLoaded = 0;
        Object.values(assets).forEach(img => {
            img.onload = () => {
                imagesLoaded++;
                if (imagesLoaded === Object.keys(assets).length) {
                    initGame();
                }
            };
        });
          function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            movePin();
            drawObjects();
            requestAnimationFrame(gameLoop);
        }
        function initGame() {
                   ball.x = (canvas.width / 2) - (ball.width / 2);
            pin.x = (canvas.width / 2) - (pin.width / 2);
            pin.y = canvas.height - pin.height - 30;
            pin.targetX = pin.x;
            pin.targetY = pin.y;
            gameLoop();
        }
         function drawObjects(){
            ctx.drawImage(assets.ball, ball.x, ball.y, ball.width, ball.height);
            ctx.drawImage(assets.pin, pin.x, pin.y, pin.width, pin.height);
            ctx.drawImage(assets.other_pin1,other_pin1.x, other_pin1.y, other_pin1.width, other_pin1.height);
            ctx.drawImage(assets.other_pin2,other_pin2.x, other_pin2.y, other_pin2.width, other_pin2.height);
            ctx.drawImage(assets.other_pin3,other_pin3.x, other_pin3.y, other_pin3.width, other_pin3.height);
            ctx.drawImage(assets.other_pin4,other_pin4.x, other_pin4.y, other_pin4.width, other_pin4.height);
            ctx.drawImage(assets.other_pin5,other_pin5.x, other_pin5.y, other_pin5.width, other_pin5.height);
            }
            canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            pin.targetX = e.clientX - rect.left;
            pin.targetY = e.clientY - rect.top;
            pin.isMoving = true;
        });
       function movePin() {
            if (!pin.isMoving) return;
            const dx = pin.targetX - pin.x;
            const dy = pin.targetY - pin.y;
            const distance = Math.sqrt(dx*dx + dy*dy);
            const vx = (dx / distance) * pin.speed;
            const vy = (dy / distance) * pin.speed;
                   if (distance > 0) {
                pin.x += (dx / distance) * pin.speed;
                pin.y += (dy / distance) * pin.speed;
            }
            pin.x = Math.max(pin.width/2, Math.min(canvas.width - pin.width/2, pin.x));
            pin.y = Math.max(pin.height, Math.min(canvas.height, pin.y));  
        }
               
    </script>
</body>
</html>